
# create the Chat migration before the Message migration since it's dependent
rails generate model Chat identifier:string
# references Profile, not User
rails generate model Message content:string profile:references chat:references
bin/rails db:environment:set RAILS_ENV=development
rails db:drop db:create db:migrate
# references Profile, not User
rails generate model Subscription chat:references profile:references
# edit all files replacing User with Profile according to this guide - https://medium.com/@adnama.lin/live-messaging-with-rails-5-action-cable-7f009e0c1d8b
